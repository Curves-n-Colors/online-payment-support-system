(function($){'use strict'; var Notification=function(container, options){var self=this; self.container=$(container); self.notification=$('<div class="pgn"></div>'); self.options=$.extend(true,{}, $.fn.pgNotification.defaults, options); if (!self.container.find('.pgn-wrapper[data-position=' + this.options.position + ']').length){self.wrapper=$('<div class="pgn-wrapper" data-position="' + this.options.position + '"></div>'); self.container.append(self.wrapper);}else{self.wrapper=$('.pgn-wrapper[data-position=' + this.options.position + ']');}self.alert=$('<div class="alert"></div>'); self.alert.addClass('alert-' + self.options.type); if (self.options.style=='circle'){new CircleNotification();}else{new BarNotification();}function BarNotification(){self.notification.addClass('pgn-bar'); self.alert.addClass('alert-' + self.options.type); var close=''; if (self.options.showClose){close=$('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');}self.alert.append(self.options.message); self.alert.prepend(close);}self.notification.append(self.alert); self.alert.on('closed.bs.alert', function(){self.notification.remove(); self.options.onClosed();}); return this;}; Notification.prototype.show=function(){this.wrapper.prepend(this.notification); this.options.onShown(); if (this.options.timeout !=0){var _this=this; setTimeout(function(){this.notification.fadeOut("slow", function(){$(this).remove(); _this.options.onClosed();});}.bind(this), this.options.timeout);}}; $.fn.pgNotification=function(options){return new Notification(this, options);}; $.fn.pgNotification.defaults={style: 'bar', message: null, position: 'top-right', type: 'info', showClose: true, timeout: 4000, onShown: function(){}, onClosed: function(){}}})(window.jQuery);
var notify_bar=function(type, message){notify_remove(); $('body').pgNotification({style: 'bar', message: message, position: 'top', timeout: 2500, type: type}).show();};
var notify_bottom=function(type, message){notify_remove(); $('body').pgNotification({style: 'bar', message: message, position: 'bottom', timeout: 2500, type: type}).show();};
var notify_reload=function(type, message){notify_remove(); $('body').pgNotification({style: 'bar', message: message, position: 'top', timeout: 2500, type: type}).show(); setTimeout(function(){window.location.reload();}, 2500);};
var notify_remove=function(){$('.pgn-wrapper').find('.alert').remove();};